{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/Searchbar/Searchbar.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/api.js","components/error.jpg","components/cover.jpg","components/Container/Container.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","query","handleInputChange","e","currentTarget","name","value","setState","handleOnSubmit","preventDefault","props","onSubmit","reset","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","propTyps","PropTyps","func","isRequired","Api","color","height","width","timeout","modalRoot","document","querySelector","Modal","isLoading","showModal","handleKeyDown","code","onClose","toggleModal","toggleLoad","onOpenModal","largeImageURL","target","dataset","source","handleBackdropClick","turget","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","src","alt","onLoad","Loader","string","ImageGalleryItem","image","prevState","handleImageClick","img","imageData","id","webformatURL","ImageGalleryItemImage","data-img","number","ImageGallery","gallery","map","item","index","array","Button","api","fetchImage","page","fetch","then","response","ok","json","Promise","reject","Error","Container","children","container","App","error","status","handleSearchForm","handleLoadMore","nextQuery","data","hits","catch","prevProps","prevQuery","total","scrollTo","top","documentElement","scrollHeight","behavior","cover","message","errorImage","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a5069199.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2dAGO\",\"Modal\":\"Modal_Modal__HZTAr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__tVLrv\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2JISU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2w4Yh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3o7wi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__3rcUf\"};","import { Component } from 'react';\r\nimport PropTyps from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\n// import { toast } from 'react-toastify';\r\n// import { render } from '@testing-library/react';\r\n\r\nclass Searchbar extends Component {\r\n  static propTyps = {\r\n    onSubmit: PropTyps.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    const { name, value } = e.currentTarget;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleOnSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n\r\n    this.reset();\r\n  };\r\n\r\n  reset = () => {\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleOnSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"query\"\r\n            value={this.state.query}\r\n            onChange={this.handleInputChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import { Component } from 'react';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\n\r\nclass Api extends Component {\r\n  // state = {};\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"Grid\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Api;\r\n","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport PropTyps from 'prop-types';\r\nimport Loader from '../Loader';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static PropTyps = {\r\n    largeImageURL: PropTyps.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    isLoading: false,\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // this.setState({ isLoading: true });\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  toggleLoad = () => {\r\n    this.setState(({ isLoading }) => ({\r\n      isLoading: !isLoading,\r\n    }));\r\n  };\r\n\r\n  onOpenModal = e => {\r\n    this.setState({ largeImageURL: e.target.dataset.source });\r\n    this.toggleModal();\r\n  };\r\n  // handleImageLoaded = e => {\r\n  //     this.setState({ isLoading: false });\r\n  //   }\r\n  // };\r\n\r\n  handleBackdropClick = e => {\r\n    if (e.currentTarget === e.turget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.Modal}>\r\n          {/* {this.props.children} */}\r\n          <img\r\n            src={this.props.largeImageURL}\r\n            alt={this.props.alt}\r\n            onClose={this.toggleModal}\r\n            onLoad={this.toggleLoad}\r\n          />\r\n          {this.state.isLoading && (\r\n            <Loader type=\"Grid\" color=\"#3f51b5\" height={80} width={80} />\r\n          )}\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\n\r\nimport Modal from '../Modal';\r\nimport PropTyps from 'prop-types';\r\n\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  static PropTyps = {\r\n    id: PropTyps.number.isRequired,\r\n    webformatURL: PropTyps.string.isRequired,\r\n    largeImageURL: PropTyps.string.isRequired,\r\n  };\r\n\r\n  state = {\r\n    showModal: false,\r\n    image: null,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(prevState => {\r\n      return { showModal: !prevState.showModal };\r\n    });\r\n  };\r\n\r\n  // this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n\r\n  handleImageClick = e => {\r\n    this.setState({\r\n      image: e.target.dataset.img,\r\n    });\r\n    this.toggleModal();\r\n  };\r\n\r\n  render() {\r\n    const { showModal, image } = this.state;\r\n    const { id, webformatURL, largeImageURL } = this.props.imageData;\r\n    return (\r\n      <>\r\n        <li className={s.ImageGalleryItem}>\r\n          <img\r\n            src={webformatURL}\r\n            alt={id}\r\n            className={s.ImageGalleryItemImage}\r\n            data-img={largeImageURL}\r\n            onClick={this.handleImageClick}\r\n          />\r\n        </li>\r\n        {showModal && <Modal onClose={this.toggleModal} src={image} />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import { Component } from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport PropTyps from 'prop-types';\r\nimport s from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  static PropTyps = {\r\n    gallery: PropTyps.array.isRequired,\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ul className={s.ImageGallery}>\r\n        {this.props.gallery.map((item, index) => {\r\n          return <ImageGalleryItem imageData={item} key={index} />;\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ImageGallery;\r\n","import { Component } from 'react';\r\n// import s from './Button.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nclass Button extends Component {\r\n  static propTypes = {\r\n    onClick: PropTypes.func,\r\n  };\r\n\r\n  // state = {};\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.Button} onClick={this.props.onClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","// import axios from 'axios';\r\n\r\n// const BASE_URL = 'https://pixabay.com/api/';\r\n// const API_KEY = '14395659-9e9c935ac58e7e08d55a10421';\r\n// axios.deaults.baseURL = BASE_URL;\r\n// axios.deaults.params = {\r\n//   key: API_KEY,\r\n//   image_type: 'photo',\r\n//   orientation: 'horizontal',\r\n//   per_page: 12,\r\n// };\r\n// const getImages = async ({ q, page }) => {\r\n//   try {\r\n//     const { data } = await axios.get('', {\r\n//       params: { q, page },\r\n//     });\r\n//     return data.hits;\r\n//   } catch (error) {\r\n//     console.log('error', { error });\r\n//     return [];\r\n//   }\r\n// };\r\n// export default {\r\n//   getImages,\r\n// };\r\n\r\nconst API_KEY = '14395659-9e9c935ac58e7e08d55a10421';\r\n\r\nfunction fetchImage(query, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=all&orientation=horizontal&per_page=12`,\r\n  ).then(response => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    return Promise.reject(\r\n      new Error(`Нет такого изображения по запросу \"${query}\"`),\r\n    );\r\n  });\r\n}\r\n\r\nconst api = { fetchImage };\r\n\r\nexport default api;\r\n","export default __webpack_public_path__ + \"static/media/error.34e0bf5d.jpg\";","export default __webpack_public_path__ + \"static/media/cover.a984235c.jpg\";","import s from './Container.module.css';\r\n\r\nfunction Container({ children }) {\r\n  return <div className={s.container}>{children}</div>;\r\n}\r\n\r\nexport default Container;","import { Component } from 'react';\r\n// import { ToastContainer, toast } from 'react-toastify';\r\n// // import 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader';\r\n// import Modal from './components/Modal';\r\nimport Api from './services/api';\r\n\r\nimport errorImage from './components/error.jpg';\r\nimport cover from './components/cover.jpg';\r\nimport Container from './components/Container';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: '',\r\n    gallery: [],\r\n    page: 1,\r\n    error: null,\r\n    status: 'idle',\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevState.query;\r\n    const nextQuery = this.state.query;\r\n    const page = this.state.page;\r\n\r\n    if (prevQuery !== nextQuery) {\r\n      this.setState({ gallery: [], page: 1, error: null });\r\n\r\n      Api.fetchImage(nextQuery, page)\r\n        // .then(query => this.setState({ query, status: 'resolved' }))\r\n        .then(data => {\r\n          if (data.total < 1) {\r\n            return Promise.reject(\r\n              new Error(`По вашему запрсу \"${nextQuery}\" не найдено`),\r\n            );\r\n          }\r\n\r\n          this.setState(prevState => {\r\n            return {\r\n              gallery: data.hits,\r\n              status: 'resolved',\r\n              page: prevState.page + 1,\r\n            };\r\n          });\r\n        })\r\n        .catch(error => this.setState({ error, status: 'rejected' }));\r\n    }\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  handleSearchForm = query => {\r\n    this.setState({\r\n      query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  // inputQuery = () => {\r\n  //   const { nextQuery } = this.state;\r\n  //   if (nextQuery.trim() === '') {\r\n  //     // return toast.info('Введите запрос');\r\n  //     return alert('Введите запрос');\r\n  //   }\r\n  // };\r\n\r\n  //   // if (nextQuery.trim() === '') {\r\n  //   //   const notify = () => toast.error('Введите запрос');\r\n  //   //   notify();\r\n  //   // }\r\n\r\n  handleLoadMore = () => {\r\n    const nextQuery = this.state.query;\r\n    const page = this.state.page;\r\n\r\n    this.setState({\r\n      // status: 'pending',\r\n    });\r\n    Api.fetchImage(nextQuery, page)\r\n      .then(data => {\r\n        this.setState(prevState => {\r\n          return {\r\n            gallery: [...prevState.gallery, ...data.hits],\r\n            // status: 'resolved',\r\n            page: prevState.page + 1,\r\n          };\r\n        });\r\n      })\r\n      .catch(error => this.setState({ error, status: 'reject' }));\r\n  };\r\n\r\n  // toggleModal = () => {\r\n  //   this.setState(({ showModal }) => ({\r\n  //     showModal: !showModal,\r\n  //   }));\r\n  // };\r\n\r\n  render() {\r\n    const { status, gallery, error } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return (\r\n        <Container>\r\n          <Searchbar onSubmit={this.handleSearchForm} />\r\n          <div>\r\n            <p> Проверим? 😜</p>\r\n            <img src={cover} alt=\"cover\" />\r\n          </div>\r\n        </Container>\r\n      );\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return (\r\n        <Container>\r\n          <Searchbar onSubmit={this.handleSearchForm} />\r\n          <ImageGallery gallery={gallery} />\r\n          <Button />\r\n          <Loader />\r\n        </Container>\r\n      );\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      return (\r\n        <Container>\r\n          <Searchbar onSubmit={this.handleSearchForm} />\r\n          <div>\r\n            <p>{error.message}</p>\r\n            <img src={errorImage} alt=\"oops\" />\r\n          </div>\r\n          {/* <ToastContainer /> */}\r\n        </Container>\r\n      );\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <Container>\r\n          <Searchbar onSubmit={this.handleSearchForm} />\r\n          <ImageGallery gallery={gallery} onClose={this.props.toggleModal} />\r\n          <Button onClick={this.handleLoadMore} />\r\n\r\n          {/* {this.state.showModal && (\r\n            <Modal>\r\n              <img\r\n                src={this.state.largeImageURL}\r\n                alt={this.props.alt}\r\n                // onLoad={this.toggleLoad}\r\n              />\r\n     \r\n            </Modal>\r\n          )} */}\r\n          {/* {this.state.showModal && (\r\n            <Modal\r\n              onClose={this.props.toggleModal}\r\n              largeImageURL={this.state.largeImageURL}\r\n            />\r\n          )} */}\r\n        </Container>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__FyLWT\",\"SearchForm\":\"Searchbar_SearchForm__1nST5\",\"SearchFormButton\":\"Searchbar_SearchFormButton__vU9cl\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2a-Qo\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1sDNI\"};"],"sourceRoot":""}